<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Swiss Public Transportation Visualization</title>
    
    <link rel="stylesheet" type="text/css" href="css/style.css"> 
    <link rel="stylesheet" type="text/css" href="css/vendor/bootstrap.min.css"> 
    
    <!-- Import libs -->
    <script type="text/javascript" src="js/vendor/jquery-2.1.3.min.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>    
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="js/vendor/bootstrap.min.js"></script>
    
    <!-- Import scripts -->
    <script src="js/map.js"></script>
</head>
<body>   
    <div class="row">
        <div class="col-md-12">
            <div class="container">                
                <div class="row">
                    <div class="col-md-10"><h1>Swiss Public Transportation Visualization</h1></div>
                    <div class="col-md-2" style="margin-top: 5px;"><a href="https://github.com/GodlikeSpam0r/OpenDataProject"><img src="./images/GitHub-Mark-32px.png" width="24" height="24" /> View Source Code</a></div>
                </div>
                <div id="map">
                    <div id="key">                        
                        <div class="panel panel-default">
                          <div class="panel-heading">
                            <h3 class="panel-title">Avg last departure</h3>
                          </div>
                          <div class="panel-body">
                                <p><span class="q0-9 keyfield"></span> <small>10:00-11:59</small></p>
                                <p><span class="q1-9 keyfield"></span> <small>12:00-13:59</small></p>
                                <p><span class="q2-9 keyfield"></span> <small>14:00-15:59</small></p>
                                <p><span class="q3-9 keyfield"></span> <small>16:00-17:59</small></p>
                                <p><span class="q4-9 keyfield"></span> <small>18:00-19:59</small></p>
                                <p><span class="q5-9 keyfield"></span> <small>20:00-21:59</small></p>
                                <p><span class="q6-9 keyfield"></span> <small>22:00-23:59</small></p>
                                <p><span class="q7-9 keyfield"></span> <small>00:00-01:59</small></p>
                                <p><span class="q8-9 keyfield"></span> <small>02:00-03-59</small></p>                            
                                <p><span class="no-data keyfield"></span> <small>No data</small></p>                            
                          </div>
                        </div>
                    </div> 
                    <div id="filter">     
                        
                    <span><a class="btn btn-default btn-grey" href="#info"><span class="glyphicon glyphicon-info-sign"></span></a></span>
                        
                    <div id="day-filter" class="btn-group" role="group" title="Select day filter" data-toggle="tooltip" data-placement="bottom">
                      <button type="button" class="btn btn-default btn-grey active filter-day" name="all"><small>All Days</small></button>
                      <button type="button" class="btn btn-default btn-grey filter-day" name="week"><small>Sun-Thur</small></button>
                      <button type="button" class="btn btn-default btn-grey filter-day" name="weekend"><small>Fri-Sat</small></button>
                      <button type="button" class="btn btn-default btn-grey filter-day" name="sun"><small>Sun</small></button>
                    </div>
                        
                    <div id="select-layer-group" class="btn-group">
                      <button id="select-layer" type="button" class="btn btn-default btn-grey dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                        <span data-toggle="tooltip" title="Select layer" data-placement="bottom" class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span>
                      </button>
                      <ul id="layer-menu" class="dropdown-menu dropdown-menu-right" role="menu">
                        <h4>Select layer</h4>
                        <li class="radio">
                          <label title="This filter shows the arithmetic average of the last departure of each station of a municipality." data-toggle="tooltip" data-placement="bottom">
                            <input type="radio" name="show" id="showMunicipalities" value="avgMunicipalities" checked>
                            Average last departure for Municipalities
                          </label>
                        </li>
                        <li class="radio">
                          <label title="This view lets the user see, when the ultimate last departure in each municipality will be." data-toggle="tooltip" data-placement="bottom">
                            <input type="radio" name="show" id="showLastMunicipalities" value="lastMunicipalities">
                            Last departure for Municipalities
                          </label>
                        </li>
                        <li class="radio">
                          <label title="In this set of data, each and every departure has been counted and put into perspective for each municipality, a logarithmic scale has been implemented." data-toggle="tooltip" data-placement="bottom">
                            <input type="radio" name="show" id="showCount" value="countMunicipalities">
                            Number of departures per Municipality
                          </label>
                        </li>                            
                        <li class="radio">
                          <label title="In this specific filter, the relation between the inhabitants and the departures in each municipality is shown. " data-toggle="tooltip" data-placement="bottom">
                            <input type="radio" name="show" id="showDeparturesPerPerson" value="departuresPerPerson">
                            Departures per Person per Municipality
                          </label>
                        </li>  
                      </ul>
                    </div>                        
                </div>                                   
                </div>  
                <div class="well">
                    <a name="info"></a>
                    <p>
                        <h4>About the app</h4>
                    With this app, we aim to visualise the Swiss public transport system. We achieve this by using the open timetable data found on <a href="http://www.fahrplanfelder.ch/de/fahrplandaten/" target="_blank">www.fahrplanfelder.ch</a>. To draw the Swiss map, we used the swissBOUNDARIES3D, which can be found on <a href="http://www.swisstopo.admin.ch/internet/swisstopo/de/home/products/landscape/swissBOUNDARIES3D.html" target="_blank">www.swisstopo.admin.ch</a>. 
                </p>
                <p>The data is then being analysed by each Municipality and the user can choose from a variety of settings, 
                    such as selecting a day range and switching through a collection of filters, displaying diverse data from the timetable on the map. 
                </p>
                <p>The app invites the user to play with normally quite boring timetables in a different matter. There’s always the possibility to just look out for the own municipality and to rejoice that other, surrounding municipalities do not offer such a late departure or an equally high coefficient in departures per citizen.</p>
                    <h4>Functionality</h2>
                <p>
                    The map is zoom able and drag able with the user’s mouse. Hovering over a municipality shows the respective name and either the relevant data based on the chosen filter or, when there is no data to display, tells the user this fact. In the top right corner of the app the user is free to choose from different filters.</p>
                
                <h4>Filters</h4>

<p>To make the app more informative and interactive, we developed different filters to show the data.
Each filter can always be adjusted to selected days of week or to everyday in the week. <br />
<i>Average last departure:</i> This filter shows the arithmetic average of the last departure of each station of a municipality. <br />
<i>Last departure:</i> This view lets the user see, when the ultimate last departure in each municipality will be.<br />
<i>Number of departures:</i> In this set of data, each and every departure has been counted and put into perspective for each municipality, a logarithmic scale has been implemented. <br/>
    <i>Departures per person per Municipality:</i> In this specific filter, the relation between the inhabitants and the departures in each municipality is shown. A possible interpretation that is enabled by this data set, is the location of winter sport resorts, where far more departures per inhabitant occur than in more urban regions. This is due to the high offer during winter season in public transportation.</p>

                </div>
            </div>            
        </div>
    </div>
</body>